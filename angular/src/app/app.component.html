<div class="app-container">
  <!-- Header -->
  <header class="header">
    <div class="header-content">
      <!-- Sidebar Toggle Button -->
      <button
        class="sidebar-toggle-btn"
        (click)="toggleSidebar()"
        type="button"
        [class.active]="!sidebarCollapsed">
        <span class="hamburger-line"></span>
        <span class="hamburger-line"></span>
        <span class="hamburger-line"></span>
      </button>

      <!-- Logo/Title -->
      <div class="header-title">
        <i class="bi bi-shop-window me-2"></i>
        <h1>Trade Market</h1>
      </div>

      <!-- User Actions -->
      <div class="header-actions">
        <div *ngIf="authService.isLoggedIn()" class="user-info">
          <i class="bi bi-person-circle me-1"></i>
          <span class="user-name">Welcome, User</span>
        </div>

        <button
          *ngIf="authService.isLoggedIn()"
          (click)="logout()"
          class="btn btn-logout">
          <i class="bi bi-box-arrow-right me-1"></i>
          <span class="btn-text">Logout</span>
        </button>

        <button
          *ngIf="!authService.isLoggedIn()"
          routerLink="/login"
          class="btn btn-login">
          <i class="bi bi-box-arrow-in-right me-1"></i>
          <span class="btn-text">Login</span>
        </button>
      </div>
    </div>
  </header>

  <!-- Main Layout -->
  <div class="main-layout">
    <!-- Sidebar -->
    <nav class="sidebar" [class.collapsed]="sidebarCollapsed">
      <div class="sidebar-content">
        <!-- Navigation Menu -->
        <div class="nav-menu">
          <a class="nav-item"
             routerLink="/home"
             routerLinkActive="active"
             [routerLinkActiveOptions]="{exact: true}">
            <div class="nav-icon">
              <i class="bi bi-house-door"></i>
            </div>
            <span class="nav-text">Home</span>
          </a>

          <a *ngIf="authService.isLoggedIn()"
             class="nav-item"
             routerLink="/customers"
             routerLinkActive="active">
            <div class="nav-icon">
              <i class="bi bi-people"></i>
            </div>
            <span class="nav-text">Customers</span>
          </a>

          <a *ngIf="authService.isLoggedIn()"
             class="nav-item"
             routerLink="/receipts"
             routerLinkActive="active">
            <div class="nav-icon">
              <i class="bi bi-receipt"></i>
            </div>
            <span class="nav-text">Receipts</span>
          </a>
        </div>

        <!-- Sidebar Footer -->
        <div class="sidebar-footer" *ngIf="!sidebarCollapsed">
          <div class="footer-content">
            <i class="bi bi-info-circle me-2"></i>
            <span>Trade Market v1.0</span>
          </div>
        </div>
      </div>

      <!-- Sidebar Overlay for Mobile -->
      <div class="sidebar-overlay"
           *ngIf="!sidebarCollapsed && isMobile()"
           (click)="toggleSidebar()"></div>
    </nav>

    <!-- Main Content -->
    <main class="main-content" [class.sidebar-collapsed]="sidebarCollapsed">
      <div class="content-wrapper">
        <router-outlet></router-outlet>
      </div>
    </main>
  </div>

  <!-- Mobile Footer -->
  <footer class="mobile-footer">
    <small>&copy; 2024 Trade Market Application</small>
  </footer>
</div>
